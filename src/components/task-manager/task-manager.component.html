<div class="bg-white overflow-hidden shadow rounded-lg">
  <div class="p-5">
    <div class="flex items-center space-x-3" title="Your personal to-do list">
        <svg class="h-6 w-6 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h3 class="text-lg font-medium text-gray-900">My Tasks</h3>
    </div>
    
    <!-- Add Task Input -->
    <div class="mt-5 flex rounded-md shadow-sm">
      <input 
        type="text" 
        name="new-task" 
        id="new-task" 
        class="block w-full flex-1 rounded-none rounded-l-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6" 
        placeholder="e.g., Follow up on S24-1005"
        [ngModel]="newTaskText()"
        (ngModelChange)="newTaskText.set($event)"
        (keyup.enter)="addTask()">
      <button 
        type="button"
        (click)="addTask()"
        class="relative -ml-px inline-flex items-center gap-x-1.5 rounded-r-md px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
        Add
      </button>
    </div>

    <!-- Task List -->
    <div class="mt-6 flow-root">
      @if (tasks().length > 0) {
        <ul role="list" class="-my-5 divide-y divide-gray-200">
          @for (task of tasks(); track task.id) {
            <li class="py-4 flex items-center space-x-3">
              <div class="flex-shrink-0">
                <input 
                  type="checkbox" 
                  class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer" 
                  [checked]="task.isCompleted"
                  (change)="toggleTask(task.id)">
              </div>
              <div class="min-w-0 flex-1">
                <p class="text-sm font-medium text-gray-900" [class.line-through]="task.isCompleted" [class.text-gray-500]="task.isCompleted">
                  {{ task.text }}
                </p>
              </div>
              <div class="flex-shrink-0">
                <button (click)="deleteTask(task.id)" class="text-gray-400 hover:text-red-600" title="Delete task">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.22-2.365.426C1.98 4.97 1 6.18 1 7.5v3.58c0 .435.22.848.584 1.093l.348.232c.365.243.805.375 1.258.375h11.62c.453 0 .893-.132 1.258-.375l.348-.232A1.25 1.25 0 0019 11.08V7.5c0-1.32-.98-2.53-2.635-2.882-.785-.206-1.57-.35-2.365-.426V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 2.5a1.25 1.25 0 011.25 1.25v.433A49.056 49.056 0 0110 4.25a49.056 49.056 0 01-1.25-.067V3.75A1.25 1.25 0 0110 2.5zM3.5 10A1.5 1.5 0 005 11.5h10A1.5 1.5 0 0016.5 10v-2.5a1.5 1.5 0 00-1.5-1.5h-10A1.5 1.5 0 003.5 7.5V10zM12 15a1 1 0 100 2h-4a1 1 0 100-2h4z" clip-rule="evenodd" />
                  </svg>
                </button>
              </div>
            </li>
          }
        </ul>
      } @else {
        <div class="text-center py-6">
          <svg class="mx-auto h-12 w-12 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
          </svg>
          <h3 class="mt-2 text-sm font-semibold text-gray-900">All caught up!</h3>
          <p class="mt-1 text-sm text-gray-500">You have no pending tasks.</p>
        </div>
      }
    </div>
  </div>
</div>