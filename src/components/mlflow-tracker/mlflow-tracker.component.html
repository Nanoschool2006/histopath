<div class="bg-white shadow sm:rounded-lg h-full flex flex-col">
  <div class="px-4 py-5 sm:p-6 border-b border-gray-200">
    <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
            <svg class="h-7 w-7 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6" />
            </svg>
            <h2 class="text-xl font-semibold text-gray-900">MLflow Experiment Tracker</h2>
        </div>
        <button (click)="refreshExperiments()" [disabled]="isRefreshing()" title="Refresh Experiments" class="text-gray-400 hover:text-gray-600 transition disabled:cursor-not-allowed">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5" [class.animate-spin]="isRefreshing()">
                <path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201-4.42 5.5 5.5 0 011.663-3.61.75.75 0 111.13 1.002A4 4 0 007.25 10.5a4 4 0 005.836-3.48.75.75 0 111.464.331 5.5 5.5 0 01-1.238 4.073zM4.688 8.576a5.5 5.5 0 019.201 4.42 5.5 5.5 0 01-1.663 3.61.75.75 0 11-1.13-1.002A4 4 0 0012.75 9.5a4 4 0 00-5.836 3.48.75.75 0 11-1.464-.331 5.5 5.5 0 011.238-4.073z" clip-rule="evenodd" />
            </svg>
        </button>
    </div>
  </div>
  
  <!-- Experiments Table -->
  <div class="flex-grow overflow-y-auto">
    <div class="flow-root">
      <div class="inline-block min-w-full align-middle">
        <table class="min-w-full">
          <thead class="sticky top-0 bg-white z-10">
            <tr>
              <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6">Experiment</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Accuracy</th>
              <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Status</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200 bg-white">
            @for (exp of experiments(); track exp.id) {
              <tr class="hover:bg-gray-50">
                <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6">{{ exp.name }}</td>
                <td class="whitespace-nowrap px-3 py-4 text-sm font-medium" [class]="getAccuracyClass(exp.accuracy)">
                  {{ exp.accuracy ? (exp.accuracy | number:'1.3-3') : 'N/A' }}
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  @let statusInfo = getStatusInfo(exp.status);
                  <div class="flex items-center">
                    <div class="h-2 w-2 rounded-full mr-2" [class]="statusInfo.dotClass"></div>
                    <span class="font-medium" [class]="statusInfo.textClass">{{ exp.status }}</span>
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
